(this.webpackJsonpweekendfly=this.webpackJsonpweekendfly||[]).push([[0],{27:function(e,n,t){e.exports=t(55)},32:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(22),l=t.n(o),i=(t(32),t(8)),c=t(1),u=t(4),m=t.n(u),d=t(6),p=t(2);function f(){var e=Object(c.a)(["\n"]);return f=function(){return e},e}function s(){var e=Object(c.a)(["\n    height: 30px;\n    line-height: 30px;\n    border: 1px solid #eee;\n    margin: 0 10px;\n    padding: 0 10px;\n    border-radius: 5px;\n    outline: none;\n"]);return s=function(){return e},e}var b=p.a.input(s()),h=p.a.div(f()),g=function(e){return r.a.createElement(h,null,r.a.createElement("label",{name:e.name+"-label"},e.label),r.a.createElement(b,{type:e.type,name:e.name,placeholder:e.placeholder,defaultValue:e.value,required:!0}))},v=t(7),x=t.n(v);function E(){var e=Object(c.a)(["\n"]);return E=function(){return e},e}function y(){var e=Object(c.a)(["\n    height: 30px;\n    line-height: 30px;\n    border: 1px solid #eee;\n    margin: 0 10px;\n    border-radius: 5px;\n    outline: none;\n    padding: 0 10px;\n    font-size: 14px;\n    @media screen and (min-width: 40em) {\n        font-size: 20px;\n        height: 40px;\n        line-height: 40px;\n        padding: 0 20px;\n      }\n"]);return y=function(){return e},e}var w=p.a.select(y()),_=p.a.span(E()),k=function(e){var n=Object(a.useState)([]),t=Object(i.a)(n,2),o=t[0],l=t[1],c=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.get("https://api.skypicker.com/locations?type=box&low_lat=35.469059&low_lon=-13.182548&high_lat=63.576525&high_lon=31.107951&locale=en-US&location_types=city&limit=1000&sort=name&active_only=true&source_popularity=bookings").then((function(e){l(e.data.locations)})).catch((function(e){console.log(e)})).finally((function(){}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c()}),[]),r.a.createElement(_,null,r.a.createElement("label",{name:e.name+"-label"},e.label),r.a.createElement(w,{name:e.name,defaultValue:"MIL",required:!0},o.map((function(e){return e.rank<=7&&r.a.createElement("option",{key:e.id,value:e.code},e.name)}))))},O=t(5),j=t.n(O),T=function(e,n,t){for(var a=parseInt(t),r=[],o=new Date(e),l=new Date(n);o.getDay()!==a;)o.setDate(o.getDate()+1);for(;o<=l;){var i=j()(o.getTime());r.push(i.format("DD/MM/YYYY")),o.setDate(o.getDate()+7)}return r};function F(){var e=Object(c.a)(["\n    font-weight: bold;\n    font-size: 12px;\n    margin-bottom: 5px;\n    color: #000;\n"]);return F=function(){return e},e}function D(){var e=Object(c.a)(["\n"]);return D=function(){return e},e}function z(){var e=Object(c.a)(["\n    display: flex;\n    margin-bottom: 30px;\n    max-width: 407px;\n    justify-content: space-between;\n"]);return z=function(){return e},e}function Y(){var e=Object(c.a)(["\n    height: 30px;\n    line-height: 30px;\n    border: 1px solid #eee;\n    margin: 0 10px;\n    padding: 0 10px;\n    border-radius: 5px;\n    outline: none;\n"]);return Y=function(){return e},e}function M(){var e=Object(c.a)(["\n  color: #fff;\n  font-size: 16px;\n  border-radius: 5px;\n  display: block;\n  background-color: #d70b7a;\n  width: 140px;\n  height: 40px;\n  line-leight: 40px;\n  cursor: pointer;\n  margin-top: 40px;\n  outline: none;\n"]);return M=function(){return e},e}function S(){var e=Object(c.a)(["\n    font-size: 12px;\n    color: #444;\n    font-weight: normal;\n    margin-top: -5px;\n    padding-bottom: 5px;\n    display: block;\n"]);return S=function(){return e},e}function N(){var e=Object(c.a)(["\n    font-size: 42px;\n    margin-bottom: 40px;\n    color: #fff;\n    background-color: #d70c7b;\n    padding: 10px;\n    display: inline-block;\n    border-radius: 5px;\n    font-weight: bold;\n"]);return N=function(){return e},e}function C(){var e=Object(c.a)(["\n  padding: 30px;\n  font-size: 16px;\n  @media screen and (min-width: 40em) {\n    padding: 50px;\n  }\n"]);return C=function(){return e},e}var G=p.a.div(C()),q=p.a.div(N()),H=p.a.span(S()),I=p.a.button(M()),P=p.a.select(Y()),V=p.a.div(z()),A=p.a.div(D()),J=p.a.p(F()),U=function(e){var n=e.onChildSubmit,t=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,r,o,l,i,c,u,d,p,f,s,b,h,g,v,E;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n({loading:"Sto cercando voli..."}),a=new FormData(t.target),r=a.get("dateFrom"),o=a.get("dateTo"),l=a.get("day"),i=a.get("placeFrom"),c=a.get("placeTo"),d=a.get("days"),p=0,f=a.get("hFrom"),s=a.get("hTo"),b=a.get("ret_hFrom"),h=a.get("ret_hTo"),g=T(r,o,l),v=[],E=0;case 17:if(!(E<g.length)){e.next=24;break}return u=g[E],e.next=21,x.a.get("https://api.skypicker.com/flights?flyFrom="+i+"&to="+c+"&dateFrom="+u+"&dateTo="+u+"&nights_in_dst_from="+d+"&nights_in_dst_to="+d+"&max_stopovers="+p+"&dtime_from="+f+"&dtime_to="+s+"&ret_dtime_from="+b+"&ret_dtime_to="+h+"&partner=picky").then((function(e){for(var n in console.log("search call: OK"),e.data.data)v.push(e.data.data[n])})).catch((function(e){console.log("error: "+e)})).finally((function(){}));case 21:E++,e.next=17;break;case 24:v.length?n(v):n({noresults:"Non ci sono voli. Prova a cambiare i filtri di ricerca."});case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(G,null,r.a.createElement("form",{onSubmit:t},r.a.createElement(q,null,"Trova i migliori voli per i weekend."),r.a.createElement("br",null),r.a.createElement(k,{name:"placeFrom",label:"",placeholder:"luogo partenza"}),r.a.createElement(k,{name:"placeTo",label:"\u2708",placeholder:"luogo arrivo"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J,null,"Periodo in cui sei disposto a partire"),r.a.createElement(H,null,"Inserisci un periodo di settimane o mesi nel quale effettuare la ricerca dei voli"),r.a.createElement(V,null,r.a.createElement(g,{name:"dateFrom",type:"date",label:"dal",placeholder:"data inizio"}),r.a.createElement(g,{name:"dateTo",type:"date",label:"al",placeholder:"data fine"})),r.a.createElement(J,null,"Quando vorresti partire"),r.a.createElement(V,null,r.a.createElement(A,null,r.a.createElement("label",{name:"day-label"},"Giorno"),r.a.createElement(P,{name:"day",defaultValue:5,required:!0},r.a.createElement("option",{value:"1"},"Luned\xec"),r.a.createElement("option",{value:"2"},"Marted\xec"),r.a.createElement("option",{value:"3"},"Mercoled\xec"),r.a.createElement("option",{value:"4"},"Gioved\xec"),r.a.createElement("option",{value:"5"},"Venerd\xec"),r.a.createElement("option",{value:"6"},"Sabato"),r.a.createElement("option",{value:"0"},"Domenica"))),r.a.createElement(g,{name:"days",type:"number",label:"Quanti giorni",placeholder:"2",value:"2"})),r.a.createElement(J,null,"Fascia oraria in cui partire"),r.a.createElement(V,null,r.a.createElement(g,{name:"hFrom",type:"time",label:"dalle",placeholder:"13:00",value:"13:00"}),r.a.createElement(g,{name:"hTo",type:"time",label:"alle",placeholder:"14:00",value:"14:00"})),r.a.createElement(J,null,"Fascia oraria del ritorno"),r.a.createElement(V,null,r.a.createElement(g,{name:"ret_hFrom",type:"time",label:"dalle",placeholder:"13:00",value:"13:00"}),r.a.createElement(g,{name:"ret_hTo",type:"time",label:"alle",placeholder:"14:00",value:"14:00"})),r.a.createElement(I,null,"Cerca voli \u2708")))};function B(){var e=Object(c.a)(["\n    text-align: center;\n"]);return B=function(){return e},e}function L(){var e=Object(c.a)(["\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom: 10px;\n"]);return L=function(){return e},e}function Q(){var e=Object(c.a)(["\n    color: #fff;\n    font-size: 16px;\n    border-radius: 5px;\n    display: block;\n    background-color: #d70b7a;\n    cursor: pointer;\n    text-decoration: none;\n    text-align: center;\n    padding: 5px;\n"]);return Q=function(){return e},e}function W(){var e=Object(c.a)(["\n  display: block;\n  font-weight: bold;\n  margin-bottom: 5px;\n  font-size: 12px;\n  color: #000;\n"]);return W=function(){return e},e}function K(){var e=Object(c.a)(["\n  display: flex;\n  margin-bottom: 20px;\n  justify-content: space-between;\n  @media screen and (min-width: 40em) {\n    > div {\n        flex: 1;\n    }\n  }\n"]);return K=function(){return e},e}function R(){var e=Object(c.a)(["\n  @media screen and (min-width: 40em) {\n    width: 50%;\n  }\n"]);return R=function(){return e},e}function $(){var e=Object(c.a)(["\n  background-color: yellow;\n  padding: 40px 50px;\n  border-top: 1px solid #d372a7;\n  font-size: 18px;\n  color: #333;\n  @media screen and (min-width: 40em) {\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return $=function(){return e},e}function X(){var e=Object(c.a)(["\n  text-align: center;\n  width: 100%;\n  font-size: 24px;\n  padding: 40px 0;\n"]);return X=function(){return e},e}var Z=p.a.div(X()),ee=p.a.div($()),ne=p.a.div(R()),te=p.a.div(K()),ae=p.a.label(W()),re=p.a.a(Q()),oe=p.a.div(L()),le=p.a.div(B()),ie=function(e){var n=e.flights;return n.loading?r.a.createElement("div",null,r.a.createElement(Z,null,n.loading)):n.noresults?r.a.createElement("div",null,r.a.createElement(Z,null,n.noresults)):n.sort((function(e,n){return e.price-n.price})).map((function(e){return r.a.createElement("div",null,r.a.createElement("div",{key:e.id},r.a.createElement(ee,null,r.a.createElement(ne,null,r.a.createElement(te,null,r.a.createElement("div",{className:"flight__airport"},r.a.createElement(ae,null,"Areoporto"),e.route[0].cityFrom,e.route[0].flyFrom," \u2708 ",e.route[0].cityTo,e.route[0].flyTo),r.a.createElement("div",{className:"flight__time"},r.a.createElement(ae,null,"Giorno\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Ora"),j.a.unix(e.route[0].dTimeUTC).format("DD/MM/YYYY HH:mm"))),r.a.createElement(te,null,r.a.createElement("div",{className:"flight__airport"},r.a.createElement(ae,null,"Areoporto"),e.route[1].cityFrom,e.route[1].flyFrom," \u2708 ",e.route[1].cityTo,e.route[1].flyTo),r.a.createElement("div",{className:"flight__time"},r.a.createElement(ae,null,"Giorno\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Ora"),j.a.unix(e.route[1].dTimeUTC).format("DD/MM/YYYY HH:mm")))),r.a.createElement(le,null,r.a.createElement(oe,{className:"flight__price"},e.price,"\u20ac"),r.a.createElement(re,{className:"flight__link",href:e.deep_link,target:"_blank",rel:"noopener noreferrer"},"GO!")))))}))};function ce(){var e=Object(c.a)(["\n  background-color: yellow;\n  min-height: 100vh;\n  font-family: 'Roboto', sans-serif;\n"]);return ce=function(){return e},e}var ue=p.a.div(ce());var me=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1];return r.a.createElement(ue,null,r.a.createElement(U,{onChildSubmit:function(e){o(e),console.log("APP: "+JSON.stringify(e))}}),r.a.createElement(ie,{flights:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.6d4a09e1.chunk.js.map